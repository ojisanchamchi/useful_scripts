<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Thiết lập máy chủ ban đầu hiệu quả với các Script tự động | Useful Scripts Documentation</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Thiết lập máy chủ ban đầu hiệu quả với các Script tự động" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Chào các bạn DevOps và Full-stack Developer!" />
<meta property="og:description" content="Chào các bạn DevOps và Full-stack Developer!" />
<link rel="canonical" href="https://yourusername.github.io/useful_scripts/initial-setup/2025/10/15/initial-server-setup-guide.html" />
<meta property="og:url" content="https://yourusername.github.io/useful_scripts/initial-setup/2025/10/15/initial-server-setup-guide.html" />
<meta property="og:site_name" content="Useful Scripts Documentation" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-10-15T18:00:00+07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Thiết lập máy chủ ban đầu hiệu quả với các Script tự động" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-10-15T18:00:00+07:00","datePublished":"2025-10-15T18:00:00+07:00","description":"Chào các bạn DevOps và Full-stack Developer!","headline":"Thiết lập máy chủ ban đầu hiệu quả với các Script tự động","mainEntityOfPage":{"@type":"WebPage","@id":"https://yourusername.github.io/useful_scripts/initial-setup/2025/10/15/initial-server-setup-guide.html"},"url":"https://yourusername.github.io/useful_scripts/initial-setup/2025/10/15/initial-server-setup-guide.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/useful_scripts/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://yourusername.github.io/useful_scripts/feed.xml" title="Useful Scripts Documentation" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/useful_scripts/">Useful Scripts Documentation</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Thiết lập máy chủ ban đầu hiệu quả với các Script tự động</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2025-10-15T18:00:00+07:00" itemprop="datePublished">Oct 15, 2025
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Chào các bạn DevOps và Full-stack Developer!</p>

<p>Việc thiết lập một máy chủ mới thường tốn rất nhiều thời gian và công sức, đặc biệt là khi bạn cần đảm bảo hiệu suất, bảo mật và các cấu hình tối ưu. Trong bài viết này, chúng ta sẽ khám phá bộ sưu tập các script tự động trong thư mục <code class="language-plaintext highlighter-rouge">initial_server_setup/</code> giúp bạn đơn giản hóa quá trình này.</p>

<h2 id="initial_setupsh-trái-tim-của-quá-trình-thiết-lập"><code class="language-plaintext highlighter-rouge">initial_setup.sh</code>: Trái tim của quá trình thiết lập</h2>

<p>Script <code class="language-plaintext highlighter-rouge">initial_setup.sh</code> là điểm khởi đầu chính, tự động hóa nhiều tác vụ quan trọng. Khi chạy script này, bạn sẽ được hướng dẫn qua các bước sau:</p>

<ol>
  <li><strong>Cài đặt các công cụ hữu ích</strong>: Tự động cài đặt các gói phần mềm cần thiết như <code class="language-plaintext highlighter-rouge">wget</code>, <code class="language-plaintext highlighter-rouge">byobu</code>, <code class="language-plaintext highlighter-rouge">chrony</code>, <code class="language-plaintext highlighter-rouge">certbot</code>, <code class="language-plaintext highlighter-rouge">htop</code>, <code class="language-plaintext highlighter-rouge">ncdu</code>, <code class="language-plaintext highlighter-rouge">iotop</code>, <code class="language-plaintext highlighter-rouge">mc</code>, <code class="language-plaintext highlighter-rouge">tmux</code>, <code class="language-plaintext highlighter-rouge">jpegoptim</code>, <code class="language-plaintext highlighter-rouge">optipng</code>, <code class="language-plaintext highlighter-rouge">libwebp-tools</code>, <code class="language-plaintext highlighter-rouge">ImageMagick</code>, <code class="language-plaintext highlighter-rouge">php-pecl-imagick</code>, <code class="language-plaintext highlighter-rouge">mysqltuner</code>, <code class="language-plaintext highlighter-rouge">smem</code>, <code class="language-plaintext highlighter-rouge">lsof</code> và nhiều công cụ khác giúp quản lý và tối ưu hóa hệ thống.</li>
  <li><strong>Cấu hình môi trường làm việc</strong>: Thiết lập <code class="language-plaintext highlighter-rouge">liquidprompt</code> cho một terminal prompt thông minh, cấu hình <code class="language-plaintext highlighter-rouge">nano</code> với syntax highlighting, và tối ưu hóa hệ thống với <code class="language-plaintext highlighter-rouge">tuned-adm profile virtual-guest</code>.</li>
  <li><strong>Bảo mật SSH</strong>: Tự động tạo cặp khóa SSH (<code class="language-plaintext highlighter-rouge">ed25519</code>) cho người dùng <code class="language-plaintext highlighter-rouge">root</code> và <code class="language-plaintext highlighter-rouge">bitrix</code>, tăng cường bảo mật cho việc truy cập máy chủ.</li>
  <li><strong>Let’s Encrypt và SSL</strong>: Cấu hình <code class="language-plaintext highlighter-rouge">certbot</code> để tự động gia hạn chứng chỉ SSL từ Let’s Encrypt, đảm bảo các dịch vụ web của bạn luôn được bảo mật với HTTPS.</li>
  <li><strong>Tối ưu hóa dịch vụ hệ thống</strong>: Thiết lập <code class="language-plaintext highlighter-rouge">systemd</code> để tự động khởi động lại các dịch vụ quan trọng như Nginx, HTTPD, Memcached khi gặp lỗi, đồng thời tăng giới hạn tài nguyên (<code class="language-plaintext highlighter-rouge">LimitNPROC</code>, <code class="language-plaintext highlighter-rouge">LimitNOFILE</code>).</li>
  <li><strong>Cấu hình Nginx và PHP</strong>: Áp dụng các cấu hình Nginx cơ bản (gzip, server tokens) và các tinh chỉnh PHP (<code class="language-plaintext highlighter-rouge">max_input_vars</code>, <code class="language-plaintext highlighter-rouge">pcre.recursion_limit</code>) để cải thiện hiệu suất và bảo mật.</li>
  <li><strong>Giới hạn hệ thống (ulimit)</strong>: Tăng giới hạn số lượng tiến trình và tệp mở cho người dùng, giúp máy chủ xử lý tải cao tốt hơn.</li>
  <li><strong>Đồng bộ thời gian</strong>: Chuyển từ <code class="language-plaintext highlighter-rouge">ntpd</code> sang <code class="language-plaintext highlighter-rouge">chronyd</code> để đồng bộ thời gian chính xác hơn.</li>
  <li><strong>Cấu hình MySQL</strong>: Gọi script <code class="language-plaintext highlighter-rouge">mysql_setup.sh</code> để áp dụng các cấu hình MySQL tối ưu cho hiệu suất và độ ổn định.</li>
  <li><strong>Cấu hình Logrotate</strong>: Thiết lập <code class="language-plaintext highlighter-rouge">logrotate</code> cho các tệp log của Bitrix, giúp quản lý dung lượng đĩa hiệu quả.</li>
  <li><strong>Cập nhật bảo mật tự động</strong>: Gọi script <code class="language-plaintext highlighter-rouge">yum_cron_secure.sh</code> để cài đặt và cấu hình <code class="language-plaintext highlighter-rouge">yum-cron</code>, đảm bảo máy chủ luôn được cập nhật các bản vá bảo mật quan trọng.</li>
  <li><strong>Cài đặt tùy chọn</strong>: Script sẽ hỏi bạn có muốn cài đặt và cấu hình Postfix (cho email), Zabbix (giám sát), Antivirus (bảo mật) và GitLab Runner (CI/CD) hay không, cho phép bạn tùy chỉnh quá trình thiết lập.</li>
</ol>

<h2 id="các-script-hỗ-trợ-quan-trọng">Các Script hỗ trợ quan trọng</h2>

<p>Ngoài <code class="language-plaintext highlighter-rouge">initial_setup.sh</code>, các script sau đóng vai trò quan trọng trong việc hoàn thiện cấu hình máy chủ:</p>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">cron_deduplicator_template.sh</code></strong>: Một template hữu ích để đảm bảo chỉ có một instance của cron job chạy tại một thời điểm, tránh các vấn đề về tài nguyên và dữ liệu.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">mydumper_cnf_setup.sh</code></strong>: Tự động thêm cấu hình cho <code class="language-plaintext highlighter-rouge">mydumper</code> và <code class="language-plaintext highlighter-rouge">myloader</code> vào tệp <code class="language-plaintext highlighter-rouge">.my.cnf</code>, giúp việc sao lưu và phục hồi MySQL dễ dàng hơn.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">mysql_setup.sh</code></strong>: Chứa các tinh chỉnh chi tiết cho MySQL, bao gồm <code class="language-plaintext highlighter-rouge">max_connections</code>, <code class="language-plaintext highlighter-rouge">long_query_time</code>, <code class="language-plaintext highlighter-rouge">innodb_buffer_pool_size</code>, <code class="language-plaintext highlighter-rouge">table_open_cache</code>, và nhiều thông số khác để tối ưu hóa cơ sở dữ liệu.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">opcache.php</code></strong>: Một công cụ PHP đơn giản nhưng mạnh mẽ để theo dõi trạng thái và cấu hình của OPcache, giúp bạn đảm bảo PHP đang hoạt động hiệu quả.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">postfix.sh</code></strong>: Cấu hình Postfix để gửi email từ máy chủ, bao gồm cả tùy chọn thiết lập relay với xác thực, rất quan trọng cho các ứng dụng cần gửi thông báo qua email.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">sysctl.sh</code></strong>: Tối ưu hóa các tham số kernel (<code class="language-plaintext highlighter-rouge">sysctl</code>) như <code class="language-plaintext highlighter-rouge">fs.nr_open</code>, <code class="language-plaintext highlighter-rouge">net.core</code>, <code class="language-plaintext highlighter-rouge">net.ipv4</code> để cải thiện hiệu suất mạng và khả năng xử lý tệp của hệ thống.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">yum_cron_secure.sh</code></strong>: Đảm bảo máy chủ của bạn luôn được bảo vệ bằng cách tự động cài đặt các bản cập nhật bảo mật thông qua <code class="language-plaintext highlighter-rouge">yum-cron</code>.</li>
</ul>

<h2 id="khi-nào-nên-sử-dụng">Khi nào nên sử dụng?</h2>

<p>Bộ script này lý tưởng cho:</p>

<ul>
  <li><strong>Thiết lập máy chủ mới</strong>: Giúp bạn nhanh chóng có một máy chủ được cấu hình tốt từ đầu.</li>
  <li><strong>Tối ưu hóa máy chủ hiện có</strong>: Áp dụng các tinh chỉnh hiệu suất và bảo mật một cách có hệ thống.</li>
  <li><strong>Đảm bảo tính nhất quán</strong>: Sử dụng các script này trên nhiều máy chủ để đảm bảo cấu hình đồng nhất.</li>
</ul>

<h2 id="lời-khuyên-cho-devopsfull-stack-developer">Lời khuyên cho DevOps/Full-stack Developer</h2>

<ul>
  <li><strong>Đọc và hiểu script</strong>: Mặc dù các script này tự động hóa, nhưng việc đọc và hiểu chúng là rất quan trọng để bạn biết chính xác những gì đang diễn ra trên máy chủ của mình.</li>
  <li><strong>Tùy chỉnh</strong>: Các script này cung cấp một nền tảng tốt. Đừng ngần ngại tùy chỉnh chúng để phù hợp với nhu cầu cụ thể của dự án và môi trường của bạn.</li>
  <li><strong>Kiểm tra</strong>: Luôn kiểm tra các thay đổi trong môi trường staging trước khi triển khai lên production.</li>
</ul>

<p>Hy vọng bài viết này giúp bạn có cái nhìn tổng quan và biết cách tận dụng bộ script <code class="language-plaintext highlighter-rouge">initial_server_setup/</code> để quản lý máy chủ hiệu quả hơn!</p>

  </div><a class="u-url" href="/useful_scripts/initial-setup/2025/10/15/initial-server-setup-guide.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/useful_scripts/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Useful Scripts Documentation</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Useful Scripts Documentation</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ojisanchamchi"><svg class="svg-icon"><use xlink:href="/useful_scripts/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ojisanchamchi</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A blog for documenting how and when to use the scripts in this repository.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
